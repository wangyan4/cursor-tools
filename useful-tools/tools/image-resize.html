<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片尺寸调整 - 在线工具箱</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="nav-bar">
        <div class="container">
            <a href="../index.html" class="nav-back">
                <svg width="24" height="24" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                </svg>
                返回工具箱
            </a>
        </div>
    </nav>

    <!-- 主容器 -->
    <div class="container">
        <!-- 页面头部 -->
        <header class="header">
            <h1>图片尺寸调整</h1>
            <p class="subtitle">批量调整图片尺寸，支持多种调整模式</p>
        </header>

        <!-- 上传区域 -->
        <div class="upload-area" id="uploadArea">
            <input type="file" id="imageInput" accept="image/png, image/jpeg" multiple hidden>
            <div class="upload-box">
                <svg class="upload-icon" width="48" height="48" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                </svg>
                <p>点击或拖拽图片到此处上传</p>
                <p class="upload-hint">支持批量上传 PNG、JPG 格式</p>
            </div>
        </div>

        <!-- 调整控制区域 -->
        <div class="resize-section" id="resizeSection" style="display: none;">
            <div class="resize-controls">
                <div class="control-group">
                    <div class="control-row">
                        <!-- 调整模式选择 -->
                        <div class="mode-control">
                            <label>调整模式</label>
                            <div class="mode-buttons">
                                <button class="mode-btn active" data-mode="scale">按比例缩放</button>
                                <button class="mode-btn" data-mode="size">按尺寸缩放</button>
                            </div>
                        </div>

                        <!-- 尺寸缩放选项 -->
                        <div class="size-options" id="sizeOptions" style="display: none;">
                            <div class="size-mode">
                                <label>尺寸模式</label>
                                <select id="sizeMode">
                                    <option value="fixed">固定尺寸</option>
                                    <option value="width">固定宽度</option>
                                    <option value="height">固定高度</option>
                                    <option value="long">固定最长边</option>
                                    <option value="short">固定最短边</option>
                                </select>
                            </div>
                        </div>

                        <!-- 导出格式选择 -->
                        <div class="export-control">
                            <label>导出格式</label>
                            <div class="format-buttons">
                                <button class="format-btn active" data-format="jpeg">JPG</button>
                                <button class="format-btn" data-format="png">PNG</button>
                                <button class="format-btn" data-format="webp">WebP</button>
                            </div>
                        </div>
                    </div>

                    <!-- 比例缩放选项 -->
                    <div class="scale-options" id="scaleOptions">
                        <label>缩放比例</label>
                        <div class="slider-container">
                            <input type="range" id="scaleRatio" min="1" max="150" value="100">
                            <span id="scaleValue">100%</span>
                        </div>
                    </div>

                    <div class="size-inputs-wrapper">
                        <div class="size-inputs">
                            <div class="size-input-pair">
                                <div class="input-group">
                                    <label>宽度</label>
                                    <input type="number" id="widthInput" min="1" placeholder="像素">
                                </div>
                                <div class="input-group">
                                    <label>高度</label>
                                    <input type="number" id="heightInput" min="1" placeholder="像素">
                                </div>
                            </div>
                            <div class="input-group" id="singleSizeInput" style="display: none;">
                                <label id="singleSizeLabel">边长</label>
                                <input type="number" id="singleSizeValue" min="1" placeholder="像素">
                            </div>
                        </div>
                    </div>
                </div>

                <button id="resizeBtn" class="resize-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/>
                    </svg>
                    调整并下载
                </button>
            </div>

            <!-- 图片预览列表 -->
            <div class="image-list" id="imageList">
                <!-- 图片项会动态添加到这里 -->
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="../js/resize.js"></script>
</body>
</html> 